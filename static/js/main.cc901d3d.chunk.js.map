{"version":3,"sources":["components/CeleryIcon.svg","store/types.ts","utils/calculateSalary.ts","components/NumberField.tsx","services/types.ts","components/FlagImage.tsx","components/CurrencySelect.tsx","components/CeleryBox.tsx","store/reducer.ts","components/DrawerMenu.tsx","utils/formatMoney.ts","components/App.tsx","services/fetchCurrencyRates.ts","serviceWorker.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","InputType","ActionType","createElement","d","_ref","svgRef","title","props","id","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","value","type","factor","Number","PerHour","PerDay","PerMonth","PerYear","CurrencyType","NumberFormatCustom","inputRef","onChange","other","getInputRef","onValueChange","values","thousandSeparator","isNumericString","NumberField","styled","reversed","autoStretch","InputProps","TextField","InputAdornment","position","css","FlagImage","currencyCode","rest","src","toLowerCase","alt","CurrencySelect","Select","map","MenuItem","StyledTextField","StyledInputAdornment","CeleryBox","name","index","input","currency","baseCurrency","rateFactor","dispatch","salary","calculateSalary","prevSalary","useRef","useEffect","current","usePrevious","Box","padding","Grid","container","spacing","item","sm","xs","placeholder","color","marginBottom","fullWidth","autoFocus","autoComplete","event","SetName","payload","data","variant","SetInputValue","endAdornment","e","SetInputType","SetInputCurrency","flex","start","end","prefix","decimals","duration","separator","Button","onClick","RemoveCelery","Delete","defaultCurrency","USD","newCelery","generateId","defaultState","min","desired","celeries","timestamp","Date","currencies","base","persistedStore","window","localStorage","getItem","initialState","JSON","parse","reducer","state","action","undefined","SetStore","SetCurrencies","SetBaseCurrency","rates","previousBaseCurrency","newRates","reduce","acc","val","SetMin","SetDesired","AddCelery","ResetStore","removeItem","console","warn","reduceStore","setItem","stringify","StyledDrawer","Drawer","DrawerMenu","isOpen","setIsOpen","date","useState","modalIsOpen","setResetModalIsOpen","currenciesIsOpen","setCurrenciesIsOpen","settingsIsOpen","setSettingsIsOpen","anchor","open","ListItem","divider","IconButton","Close","ListItemText","FormControl","InputLabel","label","button","ListItemIcon","Settings","primary","ExpandLess","ExpandMore","Collapse","in","List","marginLeft","paddingBottom","DeleteForever","AccountBalance","secondary","secondaryTypographyProps","display","Typography","align","filter","toFixed","Dialog","DialogTitle","DialogContent","dividers","DialogActions","format","stringValue","Math","floor","log","Layout","div","TopNav","Toolbar","StyledSlider","Slider","StyledBackdrop","Backdrop","theme","zIndex","drawer","process","useReducer","restored","setRestored","drawerIsOpen","setDrawerIsOpen","a","async","fetch","querystring","request","json","error","fetchCurrencyRates","restoreLatestLocalStorage","addEventListener","removeEventListener","salaries","AppBar","Menu","component","fontWeight","SvgIcon","verticalAlign","Container","height","maxHeight","flexDirection","direction","entries","celery","Grow","Paper","size","endIcon","AddCircleOutline","marginTop","track","max","valueLabelFormat","formatMoney","marks","valueLabelDisplay","Snackbar","autoHideDuration","onClose","Alert","severity","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","createMuiTheme","palette","common","black","white","background","paper","default","light","main","dark","contrastText","text","disabled","hint","responsiveFontSizes","ReactDOM","render","CssBaseline","document","getElementById","URL","href","origin","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.cc901d3d.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M511.996,245.866l-65.059-39.121l8.529-22.822l-0.071-0.027c5.41-3.978,10.784-8.645,16.179-14.042l17.831-17.838 l-61.131-22.201l10.7-57.672l-57.637,10.718l-22.214-61.122l-17.831,17.817c-4.269,4.266-10.384,10.383-16.226,18.151 l-19.794,7.368L266.131,0l-22.346,54.127l-58.118-40.495l4.805,37.372c2.188,17.059,4.818,37.564,13.533,56.35L42.408,268.951 c-25.364,25.355-39.493,52.092-41.996,79.47c-3.281,35.896,13.207,72.247,48.96,107.997l6.16,6.176 c32.824,32.821,66.109,49.407,99.087,49.405c2.988-0.001,5.979-0.137,8.961-0.41c27.373-2.504,54.113-16.631,79.477-41.992 l161.594-161.592c18.855,8.758,39.436,11.369,56.557,13.541l37.12,4.718l-40.463-58.056L511.996,245.866z M32.395,351.344 c1.801-19.698,12.808-39.778,32.719-59.682L244.38,112.4l-7.041-10.897c-3.616-5.597-6.272-11.887-8.302-18.509l29.183,20.334 l13.262-32.124l20.013,33.27l16.595-6.177c-0.563,5.883-0.377,12.097,0.85,18.637c-31.588,31.555-168.455,168.281-192.748,192.582 c-28.354,28.346-52.132,72.703-47.215,121.021C42.421,402.95,30.113,376.323,32.395,351.344z M104.359,389.927 c8.357-29.268,26.938-50.101,34.542-57.703c27.356-27.362,197.513-197.342,199.228-199.055l7.051-7.043l-3.182-9.445 c-4.189-12.437-1.721-23.362,5.044-34.161l13.408,36.893l38.416-7.144l-7.133,38.441l35.818,13.008 c-10.452,5.542-22.819,8.119-36.741,2.839l-9.701-3.677l-7.34,7.332c-1.727,1.725-173.004,172.808-200.381,200.185 c-8.242,8.242-35.576,32.797-72.546,37.694C101.446,402.082,102.618,396.024,104.359,389.927z M429.013,282.979 c-6.614-2.029-12.901-4.687-18.494-8.306l-10.899-7.054l-179.271,179.27c-34.696,34.691-68.864,41.999-105.341,21.79 c-5.523-9.315-9.501-18.828-11.898-28.511c47.973-5.68,82.632-36.702,92.988-47.057c24.237-24.238,161.307-161.156,193.577-193.39 c8.361,1.938,16.745,2.383,25.102,1.338l-7.269,19.45l33.272,20.008l-32.121,13.259L429.013,282.979z\"\n})));\n\nvar SvgCeleryIcon = function SvgCeleryIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCeleryIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/CeleryIcon.8ccebf47.svg\";\nexport { ForwardRef as ReactComponent };","import { DeepReadonly } from 'ts-essentials';\nimport { CurrencyType } from '../services/types';\n\n// Deeply immutable state\nexport type State = DeepReadonly<{\n    timestamp: number;\n    min: number;\n    desired: number;\n    celeries: {\n        [x: string]: Celery;\n    };\n    currencies: Currencies;\n}>;\n\nexport type Celery = {\n    name: string;\n    input: {\n        value: number;\n        type: InputType;\n        currency: CurrencyType | null;\n    };\n};\n\nexport type Currencies = {\n    base: CurrencyType;\n    date?: string;\n    rates?: {\n        [x: string]: CurrencyType;\n    };\n};\n\nexport enum InputType {\n    PerHour = '/hour',\n    PerDay = '/day',\n    PerMonth = '/month',\n    PerYear = '/year'\n}\n\nexport enum ActionType {\n    AddCelery = 'addCelery',\n    RemoveCelery = 'removeCelery',\n    SetInputValue = 'setInputValue',\n    SetInputType = 'setInputType',\n    SetInputCurrency = 'setInputCurrency',\n    SetName = 'setName',\n    SetMin = 'setMin',\n    SetDesired = 'setDesired',\n    SetStore = 'setStore',\n    ResetStore = 'resetStore',\n    SetCurrencies = 'setCurrencies',\n    SetBaseCurrency = 'setBaseCurrency'\n}\n\nexport type Dispatch = React.Dispatch<Action>;\n\n// Loose typing, to avoid creating a type for every ActionType\nexport type Action = {\n    type: ActionType;\n    payload?: {\n        id?: string;\n        data?: any;\n    };\n    meta?: any;\n};\n","import { InputType } from '../store/types';\n\n/** Returns a yearly salary given the input type */\nexport default function(\n    value: number | string,\n    type: InputType,\n    factor?: number\n): number {\n    if (!value) return 0;\n\n    if (typeof value === 'string') {\n        value = Number(value);\n    }\n\n    if (factor) {\n        value = value * factor;\n    }\n\n    // TODO: Get these in as variables\n    const workingDays = 365.25 - 52;\n    const hoursInDay = 8;\n\n    switch (type) {\n        case InputType.PerHour:\n            return value * hoursInDay * workingDays;\n\n        case InputType.PerDay:\n            return value * hoursInDay;\n\n        case InputType.PerMonth:\n            return (value * workingDays) / 12;\n\n        case InputType.PerYear:\n            return value;\n    }\n}\n","import React from 'react';\nimport NumberFormat from 'react-number-format';\nimport { TextField, TextFieldProps, InputAdornment } from '@material-ui/core';\nimport styled, { css } from 'styled-components';\n\ninterface NumberFormatCustomProps {\n    inputRef: (instance: NumberFormat | null) => void;\n    onChange: (event: { target: { value: number } }) => void;\n    reversed?: boolean;\n}\n\nconst NumberFormatCustom: React.FC<NumberFormatCustomProps> = ({\n    inputRef,\n    onChange,\n    ...other\n}) => (\n    <NumberFormat\n        {...other}\n        getInputRef={inputRef}\n        onValueChange={values => {\n            onChange({\n                target: {\n                    value: Number(values.value)\n                }\n            });\n        }}\n        thousandSeparator\n        isNumericString\n    />\n);\n\n// TODO: Fix NumberField to type with these props\ntype NumberFieldProps = TextFieldProps & {\n    reversed?: boolean;\n    autoStretch?: boolean;\n};\n\nconst NumberField = styled(\n    ({ reversed, autoStretch, InputProps, ...props }) => (\n        <TextField\n            InputProps={{\n                [!props.reversed ? 'startAdornment' : 'endAdornment']: (\n                    <InputAdornment position=\"start\">$</InputAdornment>\n                ),\n                inputComponent: NumberFormatCustom as any,\n                ...InputProps\n            }}\n            {...props}\n        />\n    )\n)`\n    ${({ autoStretch, value }) =>\n        autoStretch &&\n        css`\n            width: ${100 + Number(value.length) * 5}px;\n            max-width: ${100 + Number(value.length) * 5}px;\n        `}\n\n    ${({ reversed }) =>\n        reversed &&\n        css`\n            input: {\n                text-align: right;\n            }\n        `}\n`;\n\nexport default NumberField;\n","export enum CurrencyType {\n    AUD = 'AUD',\n    BGN = 'BGN',\n    BRL = 'BRL',\n    CAD = 'CAD',\n    CHF = 'CHF',\n    CNY = 'CNY',\n    CZK = 'CZK',\n    DKK = 'DKK',\n    EUR = 'EUR',\n    GBP = 'GBP',\n    HKD = 'HKD',\n    HRK = 'HRK',\n    HUF = 'HUF',\n    IDR = 'IDR',\n    ILS = 'ILS',\n    INR = 'INR',\n    ISK = 'ISK',\n    JPY = 'JPY',\n    KRW = 'KRW',\n    MXN = 'MXN',\n    MYR = 'MYR',\n    NOK = 'NOK',\n    NZD = 'NZD',\n    PHP = 'PHP',\n    PLN = 'PLN',\n    RON = 'RON',\n    RUB = 'RUB',\n    SEK = 'SEK',\n    SGD = 'SGD',\n    THB = 'THB',\n    TRY = 'TRY',\n    USD = 'USD',\n    ZAR = 'ZAR'\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { CurrencyType } from '../services/types';\n\ninterface Props {\n    currencyCode: CurrencyType;\n}\n\nconst FlagImage = styled(({ currencyCode = '', ...rest }) => (\n    <img\n        src={`./flags/${currencyCode.toLowerCase()}.png`}\n        alt={currencyCode}\n        {...rest}\n    />\n))<Props>`\n    height: 16px;\n    margin-right: 8px;\n`;\n\nexport default FlagImage;\n","import React from 'react';\nimport { Select, MenuItem, SelectProps } from '@material-ui/core';\nimport { CurrencyType } from '../services/types';\nimport FlagImage from './FlagImage';\n\n// TODO: Group currencies by continent?\nconst CurrencySelect: React.FC<SelectProps> = props => (\n    <Select {...props}>\n        {Object.values(CurrencyType).map(currencyCode => (\n            <MenuItem key={currencyCode} value={currencyCode}>\n                <FlagImage currencyCode={currencyCode} />\n                {currencyCode}\n            </MenuItem>\n        ))}\n    </Select>\n);\n\nexport default CurrencySelect;\n","import React, { useEffect, useRef } from 'react';\nimport {\n    Box,\n    Button,\n    Grid,\n    TextField,\n    Select,\n    MenuItem,\n    InputAdornment\n} from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport CountUp from 'react-countup';\nimport calculateSalary from '../utils/calculateSalary';\nimport NumberField from './NumberField';\nimport styled from 'styled-components';\nimport { ActionType, Celery, InputType, Dispatch } from '../store/types';\nimport CurrencySelect from './CurrencySelect';\nimport { CurrencyType } from '../services/types';\n\ninterface CeleryBoxProps extends Celery {\n    id: string;\n    dispatch: Dispatch;\n    index: number;\n    rateFactor?: number;\n    baseCurrency: CurrencyType;\n}\n\nconst StyledTextField = styled(TextField)`\n    input {\n        font-size: 1.5em;\n    }\n`;\n\nconst usePrevious = <T extends {}>(value: T) => {\n    const ref = useRef<T>();\n    useEffect(() => {\n        ref.current = value;\n    });\n    return ref.current;\n};\n\nconst StyledInputAdornment = styled(InputAdornment)`\n    display: flex;\n    justify-content: space-between;\n    width: 18em;\n`;\n\nconst CeleryBox: React.FC<CeleryBoxProps> = ({\n    id,\n    name,\n    index,\n    input: { value, type, currency },\n    baseCurrency,\n    rateFactor,\n    dispatch\n}) => {\n    const salary = calculateSalary(value, type, rateFactor);\n    const prevSalary = usePrevious(salary);\n\n    return (\n        <Box style={{ padding: '1em' }}>\n            <Grid container spacing={2}>\n                <Grid item sm={4} xs={12}>\n                    <StyledTextField\n                        name=\"name\"\n                        placeholder={`Company ${index + 1}`}\n                        color=\"secondary\"\n                        value={name}\n                        style={{\n                            marginBottom: 15\n                        }}\n                        fullWidth\n                        autoFocus\n                        autoComplete=\"off\"\n                        onChange={(\n                            event: React.ChangeEvent<HTMLInputElement>\n                        ) => {\n                            dispatch({\n                                type: ActionType.SetName,\n                                payload: {\n                                    id,\n                                    data: event.target.value\n                                }\n                            });\n                        }}\n                    />\n                    <NumberField\n                        name=\"value\"\n                        variant=\"outlined\"\n                        autoComplete=\"off\"\n                        // TODO: Show 'default' option to use base\n                        value={value}\n                        onChange={(\n                            event: React.ChangeEvent<HTMLInputElement>\n                        ) => {\n                            dispatch({\n                                type: ActionType.SetInputValue,\n                                payload: {\n                                    id,\n                                    data: event.target.value\n                                }\n                            });\n                        }}\n                        placeholder=\"0.00\"\n                        InputProps={{\n                            endAdornment: (\n                                <StyledInputAdornment position=\"end\">\n                                    <Select\n                                        value={type}\n                                        onChange={(\n                                            e: React.ChangeEvent<{\n                                                value: unknown;\n                                            }>\n                                        ) => {\n                                            dispatch({\n                                                type: ActionType.SetInputType,\n                                                payload: {\n                                                    id,\n                                                    data: e.target.value\n                                                }\n                                            });\n                                        }}\n                                    >\n                                        {Object.values(InputType).map(type => (\n                                            <MenuItem key={type} value={type}>\n                                                {type}\n                                            </MenuItem>\n                                        ))}\n                                    </Select>{' '}\n                                    <CurrencySelect\n                                        value={currency || baseCurrency}\n                                        onChange={(\n                                            e: React.ChangeEvent<{\n                                                value: unknown;\n                                            }>\n                                        ) => {\n                                            dispatch({\n                                                type:\n                                                    ActionType.SetInputCurrency,\n                                                payload: {\n                                                    id,\n                                                    data: e.target.value\n                                                }\n                                            });\n                                        }}\n                                    />\n                                </StyledInputAdornment>\n                            )\n                        }}\n                    />\n                </Grid>\n                <Grid item style={{ flex: 1 }}></Grid>\n                <Grid item sm={4} xs={12}>\n                    Salary:{' '}\n                    <strong>\n                        <CountUp\n                            // Don't animate if it's already PerYear\n                            start={\n                                type === InputType.PerYear ? salary : prevSalary\n                            }\n                            end={salary}\n                            prefix=\"$\"\n                            decimals={0}\n                            duration={1}\n                            separator=\",\"\n                        />\n                    </strong>{' '}\n                    / year\n                    <Box>\n                        <Button\n                            onClick={() =>\n                                dispatch({\n                                    type: ActionType.RemoveCelery,\n                                    payload: { id, data: null }\n                                })\n                            }\n                        >\n                            <Delete color=\"error\" />\n                        </Button>\n                    </Box>\n                </Grid>\n            </Grid>\n        </Box>\n    );\n};\n\nexport default CeleryBox;\n","import { v4 as generateId } from 'uuid';\nimport { Celery, State, InputType, ActionType, Action } from './types';\nimport { CurrencyType } from '../services/types';\n\n// TODO: Predict from browser location?\nconst defaultCurrency: CurrencyType = CurrencyType.USD;\n\nconst newCelery = ({ currency } = { currency: null }) => ({\n    [generateId()]: {\n        name: '',\n        input: {\n            value: 0,\n            type: InputType.PerYear,\n            currency\n        }\n    } as Celery\n});\n\n// Grab initialState from persistedStore in localStorage (if exists)\nconst defaultState: State = {\n    min: 1,\n    desired: 75000,\n    celeries: newCelery(),\n    timestamp: +new Date(),\n    currencies: {\n        base: defaultCurrency\n    }\n};\n\nconst PERSISTED_STORE_NAME = 'persistedStore';\n\nconst persistedStore = window.localStorage.getItem(PERSISTED_STORE_NAME);\n\nexport const initialState: State = persistedStore\n    ? JSON.parse(persistedStore || '{}')\n    : defaultState;\n\nconst reduceStore = (state: State, action: Action): State => {\n    const { type } = action;\n\n    if (action.payload) {\n        const { payload } = action;\n\n        if (payload.id) {\n            switch (type) {\n                case ActionType.RemoveCelery:\n                    const { [payload.id]: _, ...celeries } = state.celeries;\n\n                    return {\n                        ...state,\n                        celeries\n                    };\n\n                case ActionType.SetInputValue:\n                    return {\n                        ...state,\n                        celeries: {\n                            ...state.celeries,\n                            [payload.id]: {\n                                ...state.celeries[payload.id],\n                                input: {\n                                    ...state.celeries[payload.id].input,\n                                    value: payload.data\n                                }\n                            }\n                        }\n                    };\n\n                case ActionType.SetInputType:\n                    return {\n                        ...state,\n                        celeries: {\n                            ...state.celeries,\n                            [payload.id]: {\n                                ...state.celeries[payload.id],\n                                input: {\n                                    ...state.celeries[payload.id].input,\n                                    type: payload.data\n                                }\n                            }\n                        }\n                    };\n\n                case ActionType.SetInputCurrency:\n                    return {\n                        ...state,\n                        celeries: {\n                            ...state.celeries,\n                            [payload.id]: {\n                                ...state.celeries[payload.id],\n                                input: {\n                                    ...state.celeries[payload.id].input,\n                                    currency: payload.data\n                                }\n                            }\n                        }\n                    };\n\n                case ActionType.SetName:\n                    return {\n                        ...state,\n                        celeries: {\n                            ...state.celeries,\n                            [payload.id]: {\n                                ...state.celeries[payload.id],\n                                name: payload.data\n                            }\n                        }\n                    };\n            }\n        } else if (typeof payload.data !== undefined) {\n            switch (type) {\n                case ActionType.SetStore:\n                    return payload.data;\n\n                case ActionType.SetCurrencies:\n                    return {\n                        ...state,\n                        currencies: payload.data\n                    };\n\n                case ActionType.SetBaseCurrency:\n                    const { rates = {} } = state.currencies;\n\n                    const previousBaseCurrency = (rates[\n                        state.currencies.base\n                    ] as unknown) as number;\n\n                    const newBaseCurrency = (rates[\n                        payload.data\n                    ] as unknown) as number;\n\n                    // Re-proportion currency rates to new\n                    const factor = newBaseCurrency / previousBaseCurrency;\n\n                    const newRates = Object.values(rates).reduce(\n                        (acc, val) => ({ ...acc, [val]: Number(val) * factor }),\n                        {}\n                    );\n\n                    return {\n                        ...state,\n                        currencies: {\n                            ...state.currencies,\n                            base: payload.data,\n                            rates: newRates\n                        }\n                    };\n\n                case ActionType.SetMin:\n                    return {\n                        ...state,\n                        min: payload.data\n                    };\n\n                case ActionType.SetDesired:\n                    return {\n                        ...state,\n                        desired: payload.data\n                    };\n            }\n        }\n    }\n\n    switch (type) {\n        case ActionType.AddCelery:\n            return {\n                ...state,\n                celeries: {\n                    ...state.celeries,\n                    ...newCelery()\n                }\n            };\n\n        case ActionType.ResetStore:\n            if ('localStorage' in window) {\n                localStorage.removeItem(PERSISTED_STORE_NAME);\n            }\n\n            return defaultState;\n\n        default:\n            console.warn(\n                `Action ${type} did not alter the state! Are you missing a reducer, my friend?`\n            );\n            return state;\n    }\n};\n\nconst reducer = (state: State, action: Action): State => {\n    // Timestamp this new version of the state\n    state = {\n        ...state,\n        timestamp: +new Date()\n    };\n\n    if (process.env.NODE_ENV === 'development') {\n        console.log('-----------');\n        console.info('action:', action);\n    }\n\n    // Reduce state with dispatched action\n    state = reduceStore(state, action);\n\n    if (process.env.NODE_ENV === 'development') {\n        console.info('state', state);\n        console.log('-----------');\n    }\n\n    // Persist new state to localStorage\n    if ('localStorage' in window) {\n        localStorage.setItem(PERSISTED_STORE_NAME, JSON.stringify(state));\n    }\n\n    return state;\n};\n\nexport default reducer;\n","import React, { useState } from 'react';\nimport {\n    Drawer,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Button,\n    Collapse,\n    IconButton,\n    InputLabel,\n    FormControl,\n    Typography\n} from '@material-ui/core';\nimport {\n    DeleteForever,\n    ExpandLess,\n    ExpandMore,\n    Close,\n    Settings,\n    AccountBalance\n} from '@material-ui/icons';\nimport { Dispatch, ActionType, Currencies } from '../store/types';\nimport styled from 'styled-components';\nimport { CurrencyType } from '../services/types';\nimport FlagImage from './FlagImage';\nimport NumberField from './NumberField';\nimport CurrencySelect from './CurrencySelect';\n\ninterface DrawerMenuProps {\n    dispatch: Dispatch;\n    isOpen: boolean;\n    setIsOpen: (a: boolean) => void;\n    currencies: Currencies;\n    min: number;\n    desired: number;\n}\n\nconst StyledDrawer = styled(Drawer)`\n    min-width: 300px;\n`;\n\nconst DrawerMenu: React.FC<DrawerMenuProps> = ({\n    dispatch,\n    isOpen,\n    setIsOpen,\n    currencies: { base, rates, date },\n    min,\n    desired\n}) => {\n    const [modalIsOpen, setResetModalIsOpen] = useState(false);\n    const [currenciesIsOpen, setCurrenciesIsOpen] = useState(false);\n    const [settingsIsOpen, setSettingsIsOpen] = useState(false);\n\n    return (\n        <StyledDrawer anchor=\"left\" variant=\"persistent\" open={isOpen}>\n            <ListItem divider>\n                <IconButton onClick={() => setIsOpen(false)}>\n                    <Close />\n                </IconButton>\n                <ListItemText />\n                <FormControl>\n                    <InputLabel id=\"defaultCurrency\">Currency</InputLabel>\n                    <CurrencySelect\n                        value={base}\n                        onChange={e => {\n                            dispatch({\n                                type: ActionType.SetBaseCurrency,\n                                payload: { data: e.target.value }\n                            });\n                        }}\n                    />\n                </FormControl>\n            </ListItem>\n\n            <ListItem>\n                <ListItemText>\n                    <NumberField\n                        name=\"min\"\n                        label=\"Minimum\"\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                            dispatch({\n                                type: ActionType.SetMin,\n                                payload: {\n                                    data: e.target.value\n                                }\n                            });\n                        }}\n                        value={min}\n                        placeholder=\"0.00\"\n                        autoFocus\n                    />\n                </ListItemText>\n            </ListItem>\n\n            <ListItem>\n                <NumberField\n                    name=\"desired\"\n                    label=\"Desired\"\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        dispatch({\n                            type: ActionType.SetDesired,\n                            payload: {\n                                data: Number(e.target.value)\n                            }\n                        });\n                    }}\n                    value={desired}\n                    placeholder=\"0.00\"\n                />\n            </ListItem>\n\n            <ListItem button onClick={() => setSettingsIsOpen(!settingsIsOpen)}>\n                <ListItemIcon>\n                    <Settings />\n                </ListItemIcon>\n                <ListItemText primary=\"Settings\" />\n                {settingsIsOpen ? <ExpandLess /> : <ExpandMore />}\n            </ListItem>\n            <Collapse in={settingsIsOpen}>\n                <List\n                    style={{\n                        marginLeft: '1em',\n                        paddingBottom: '2px'\n                    }}\n                >\n                    <ListItem button onClick={() => setResetModalIsOpen(true)}>\n                        <ListItemIcon>\n                            <DeleteForever />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Reset Data\" />\n                    </ListItem>\n                    {/* TODO: More settings */}\n                </List>\n            </Collapse>\n\n            <ListItem\n                button\n                onClick={() => setCurrenciesIsOpen(!currenciesIsOpen)}\n            >\n                <ListItemIcon>\n                    <AccountBalance />\n                </ListItemIcon>\n                <ListItemText\n                    primary=\"Exchange\"\n                    secondary={`($1 ${base})`}\n                    secondaryTypographyProps={{\n                        variant: 'caption',\n                        display: 'block'\n                    }}\n                />\n                {currenciesIsOpen ? <ExpandLess /> : <ExpandMore />}\n            </ListItem>\n\n            <Collapse in={currenciesIsOpen}>\n                <Typography align=\"center\" variant=\"caption\" display=\"block\">\n                    Updated: {date}\n                </Typography>\n                <List>\n                    {Object.values(CurrencyType)\n                        .filter(currency => currency !== base)\n                        .map(currency => (\n                            <ListItem key={currency}>\n                                <ListItemIcon>\n                                    <FlagImage currencyCode={currency} />\n                                </ListItemIcon>\n                                <ListItemText\n                                    primary={currency}\n                                    {...(rates\n                                        ? {\n                                              secondary: `$${Number(\n                                                  rates[currency]\n                                              ).toFixed(3)}`\n                                          }\n                                        : {})}\n                                    secondaryTypographyProps={{\n                                        variant: 'caption',\n                                        style: {\n                                            marginLeft: 10\n                                        }\n                                    }}\n                                />\n                            </ListItem>\n                        ))}\n                </List>\n            </Collapse>\n\n            <Dialog open={modalIsOpen}>\n                <DialogTitle>\n                    <DeleteForever /> Reset Database\n                </DialogTitle>\n                <DialogContent dividers>\n                    Are you sure you want to reset your Celery database?\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        autoFocus\n                        onClick={() => setResetModalIsOpen(false)}\n                    >\n                        Cancel\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            dispatch({\n                                type: ActionType.ResetStore\n                            });\n                            setResetModalIsOpen(false);\n                            setIsOpen(false);\n                        }}\n                        color=\"primary\"\n                    >\n                        Reset\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </StyledDrawer>\n    );\n};\n\nexport default DrawerMenu;\n","/** Formats number for contracted money display ($/K/M), with 1 decimal place */\nexport default function calculateSalary(value: number): string {\n    if (value >= 1000000) {\n        return `${format(value / 1000000)}M`;\n    } else if (value >= 1000) {\n        return `${format(value / 1000)}K`;\n    } else {\n        return `$${format(value)}`;\n    }\n}\n\n/** Limit to 1 decimal place, or 3 total digits */\nfunction format(value: number) {\n    let stringValue: string = value.toFixed(1);\n\n    if (Number(stringValue[stringValue.length - 1]) === 0) {\n        value = Math.floor(value);\n    } else if (stringValue.length > 3) {\n        value = Number(value.toFixed(0));\n    } else {\n        value = Number(stringValue);\n    }\n\n    return value;\n}\n\nconsole.log(calculateSalary(123433));\n","import React, { useEffect, useReducer, useState } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport {\n    Button,\n    AppBar,\n    Toolbar,\n    SvgIcon,\n    Typography,\n    Container,\n    Grid,\n    Grow,\n    Slider,\n    Paper,\n    Snackbar,\n    Backdrop\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { AddCircleOutline, Menu } from '@material-ui/icons';\nimport { ReactComponent as CeleryIcon } from './CeleryIcon.svg';\nimport styled from 'styled-components';\n\nimport CeleryBox from './CeleryBox';\nimport reducer, { initialState } from '../store/reducer';\nimport { ActionType, State } from '../store/types';\nimport calculateSalary from '../utils/calculateSalary';\nimport DrawerMenu from './DrawerMenu';\nimport formatMoney from '../utils/formatMoney';\nimport { fetchCurrencyRates } from '../services/fetchCurrencyRates';\n\nconst Layout = styled.div`\n    height: 100vh;\n    max-width: 100vw;\n    display: flex;\n    flex-direction: column;\n`;\n\nconst TopNav = styled(Toolbar)`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst StyledSlider = styled(Slider)`\n    .MuiSlider-thumb {\n        transition: left 0.25s ease;\n    }\n    .MuiSlider-markLabel {\n        text-align: center;\n        max-width: 50px;\n    }\n`;\n\nconst StyledBackdrop = styled(Backdrop)`\n    z-index: ${({ theme }) => theme.zIndex.drawer - 1};\n`;\n\nconst App: React.FC = () => {\n    // TODO: Provide state & dispatch to children as context?\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const [restored, setRestored] = useState(false);\n    const [drawerIsOpen, setDrawerIsOpen] = useState(false);\n\n    useEffect(() => {\n        fetchCurrencyRates(state.currencies.base, dispatch);\n    }, [state.currencies.base, dispatch]);\n\n    useEffect(() => {\n        const restoreLatestLocalStorage = () => {\n            const persistedStore: State = JSON.parse(\n                window.localStorage.getItem('persistedStore') || '{}'\n            );\n\n            // Override the store with persisted one if it's newer\n            if (persistedStore && persistedStore.timestamp > state.timestamp) {\n                setRestored(true);\n\n                // TODO: Migrate the persisted store if schema has changed?\n                dispatch({\n                    type: ActionType.SetStore,\n                    payload: { data: persistedStore }\n                });\n            }\n        };\n\n        window.addEventListener('focus', restoreLatestLocalStorage);\n\n        return () =>\n            window.removeEventListener('focus', restoreLatestLocalStorage);\n    }, [state.timestamp, dispatch]);\n\n    const salaries = Object.values(state.celeries)\n        .map(({ input }) => calculateSalary(input.value, input.type))\n        .filter(value => value > 0);\n\n    return (\n        <Layout>\n            <AppBar position=\"static\">\n                <TopNav>\n                    <Menu onClick={() => setDrawerIsOpen(!drawerIsOpen)} />\n                    <Typography\n                        variant=\"h6\"\n                        component=\"h1\"\n                        style={{\n                            fontWeight: 'bold'\n                        }}\n                    >\n                        Celery\n                        <SvgIcon\n                            viewBox=\"0 0 512 512\"\n                            style={{ marginLeft: 10, verticalAlign: 'sub' }}\n                        >\n                            <CeleryIcon />\n                        </SvgIcon>\n                    </Typography>\n                </TopNav>\n            </AppBar>\n\n            <StyledBackdrop\n                open={drawerIsOpen}\n                onClick={() => setDrawerIsOpen(false)}\n            />\n            <DrawerMenu\n                dispatch={dispatch}\n                isOpen={drawerIsOpen}\n                setIsOpen={setDrawerIsOpen}\n                currencies={state.currencies}\n                min={state.min}\n                desired={state.desired}\n            />\n\n            <Container\n                style={{\n                    height: 'calc(100vh - 64px)',\n                    maxHeight: 'calc(100vh - 64px)',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    padding: '3em 0 1em'\n                }}\n            >\n                <Grid\n                    container\n                    direction=\"column\"\n                    spacing={2}\n                    style={{ flex: 1 }}\n                >\n                    {Object.entries(state.celeries).map(\n                        ([id, celery], index) => (\n                            <Grid item key={id}>\n                                <Grow in>\n                                    <Paper>\n                                        <CeleryBox\n                                            key={id}\n                                            index={index}\n                                            id={id}\n                                            dispatch={dispatch}\n                                            {...(state.currencies.rates\n                                                ? {\n                                                      rateFactor: (state\n                                                          .currencies.rates[\n                                                          celery.input\n                                                              .currency ||\n                                                              state.currencies\n                                                                  .base\n                                                      ] as unknown) as number\n                                                  }\n                                                : {})}\n                                            baseCurrency={state.currencies.base}\n                                            {...celery}\n                                        />\n                                    </Paper>\n                                </Grow>\n                            </Grid>\n                        )\n                    )}\n\n                    <Grid item>\n                        <Button\n                            size=\"large\"\n                            color=\"primary\"\n                            onClick={() =>\n                                dispatch({ type: ActionType.AddCelery })\n                            }\n                            endIcon={<AddCircleOutline />}\n                        >\n                            Add New\n                        </Button>\n                    </Grid>\n                </Grid>\n\n                <Grid item>\n                    <Grid container spacing={2} style={{ marginTop: '3em' }}>\n                        <Grid item>\n                            <Typography variant=\"h6\" color=\"textSecondary\">\n                                &nbsp;$&nbsp;\n                            </Typography>\n                        </Grid>\n\n                        <Grid item style={{ flex: 1 }}>\n                            <StyledSlider\n                                color=\"secondary\"\n                                track={false}\n                                min={Math.min(state.min, ...salaries)}\n                                max={Math.max(state.desired, ...salaries)}\n                                value={salaries}\n                                valueLabelFormat={formatMoney}\n                                marks={[\n                                    {\n                                        label: `Min.\n                                        (${formatMoney(state.min)})`,\n                                        value: state.min\n                                    },\n                                    {\n                                        label: `Des.\n                                        (${formatMoney(state.desired)})`,\n                                        value: state.desired\n                                    }\n                                ]}\n                                valueLabelDisplay=\"on\"\n                            />\n                        </Grid>\n\n                        <Grid item>\n                            <Typography variant=\"h6\" color=\"textSecondary\">\n                                $$$\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Container>\n\n            <Snackbar\n                open={restored}\n                autoHideDuration={4000}\n                onClose={() => setRestored(false)}\n            >\n                <Alert variant=\"filled\" severity=\"success\">\n                    Restored from Local Storage!\n                </Alert>\n            </Snackbar>\n        </Layout>\n    );\n};\n\nexport default process.env.NODE_ENV === 'development' ? hot(App) : App;\n","import { Dispatch, ActionType } from '../store/types';\nimport { CurrencyType } from './types';\nimport querystring from 'querystring';\n\nconst API_URI = 'https://api.exchangeratesapi.io/latest';\n\nexport async function fetchCurrencyRates(\n    base: CurrencyType,\n    dispatch: Dispatch\n) {\n    try {\n        const request = await fetch(\n            `${API_URI}?${querystring.stringify({ base })}`\n        );\n        const data = await request.json();\n\n        dispatch({\n            type: ActionType.SetCurrencies,\n            payload: { data }\n        });\n    } catch (err) {\n        // dispatch error\n        console.error(err);\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// TODO: Convert to .ts\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {\n    ThemeProvider as MuiThemeProvider,\n    createMuiTheme,\n    responsiveFontSizes\n} from '@material-ui/core/styles';\nimport { ThemeProvider } from 'styled-components';\n\n// A custom theme for this app\nlet theme = createMuiTheme({\n    palette: {\n        common: { black: 'rgba(0, 0, 0, 1)', white: '#fff' },\n        background: {\n            paper: 'rgba(255, 255, 255, 1)',\n            default: 'rgba(239, 239, 239, 1)'\n        },\n        primary: {\n            light: 'rgba(175, 238, 107, 1)',\n            main: 'rgba(97, 186, 0, 1)',\n            dark: 'rgba(65, 117, 5, 1)',\n            contrastText: '#fff'\n        },\n        secondary: {\n            light: 'rgba(175, 238, 107, 1)',\n            main: 'rgba(97, 186, 0, 1)',\n            dark: 'rgba(65, 117, 5, 1)',\n            contrastText: '#fff'\n        },\n        error: {\n            light: '#e57373',\n            main: '#f44336',\n            dark: '#d32f2f',\n            contrastText: '#fff'\n        },\n        text: {\n            primary: 'rgba(59, 59, 59, 0.87)',\n            secondary: 'rgba(73, 73, 73, 0.6)',\n            disabled: 'rgba(0, 0, 0, 0.38)',\n            hint: 'rgba(0, 0, 0, 0.38)'\n        }\n    }\n});\n\ntheme = responsiveFontSizes(theme);\n\nReactDOM.render(\n    <MuiThemeProvider theme={theme}>\n        <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <App />\n        </ThemeProvider>\n    </MuiThemeProvider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}